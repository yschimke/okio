<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1" charset="UTF-8">
    <title>atomicMove</title>
    <link href="../../../images/logo-icon.svg" rel="icon" type="image/svg">
    <script>var pathToRoot = "../../../";</script>
    <script type="text/javascript" src="../../../scripts/sourceset_dependencies.js" async="async"></script>
    <link href="../../../styles/style.css" rel="Stylesheet">
    <link href="../../../styles/logo-styles.css" rel="Stylesheet">
    <link href="../../../styles/jetbrains-mono.css" rel="Stylesheet">
    <link href="../../../styles/main.css" rel="Stylesheet">
    <script type="text/javascript" src="../../../scripts/clipboard.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/navigation-loader.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/platform-content-handler.js" async="async"></script>
    <script type="text/javascript" src="../../../scripts/main.js" async="async"></script>
    <link href="../../../images/logo-square.png">
    <link href="../../../styles/dokka-logo.css" rel="Stylesheet">
  </head>
  <body>
    <div id="container">
      <div id="leftColumn">
        <div id="logo"></div>
        <div id="paneSearch"></div>
        <div id="sideMenu"></div>
      </div>
      <div id="main">
        <div id="leftToggler"><span class="icon-toggler"></span></div>
        <script type="text/javascript" src="../../../scripts/pages.js"></script>
        <script type="text/javascript" src="../../../scripts/main.js"></script>
        <div class="main-content" id="content" pageIds="okio/ForwardingFilesystem/atomicMove/#okio.Path#okio.Path/PointingToDeclaration//-1217050374">
          <div class="navigation-wrapper" id="navigation-wrapper">
            <div class="breadcrumbs"><a href="../../index.html">okio</a>/<a href="../index.html">okio</a>/<a href="index.html">ForwardingFilesystem</a>/<a href="atomic-move.html">atomicMove</a></div>
            <div class="pull-right d-flex">
              <div class="filter-section" id="filter-section"><button class="platform-tag platform-selector common-like" data-active="" data-filter=":okio:dokkaHtml/commonMain">common</button></div>
              <div id="searchBar"></div>
            </div>
          </div>
          <div class="cover ">
            <h1 class="cover"><span>atomic</span><wbr></wbr><span>Move</span></h1>
          </div>
<div class="divergent-group" data-filterable-current=":okio:dokkaHtml/commonMain" data-filterable-set=":okio:dokkaHtml/commonMain"><div class="with-platform-tags"><span class="pull-right"></span></div>

  <div>
    <div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":okio:dokkaHtml/commonMain"><div class="symbol monospace">open override fun <a href="atomic-move.html">atomicMove</a>(source: <a href="../-path/index.html">Path</a>, target: <a href="../-path/index.html">Path</a>)<span class="top-right-position"><span class="copy-icon"></span><div class="copy-popup-wrapper popup-to-left"><span class="copy-popup-icon"></span><span>Content copied to clipboard</span></div></span></div></div></div>
  </div>
<p class="paragraph">Moves <span data-unresolved-link="okio/ForwardingFilesystem/source/#/PointingToCallableParameters(-1)/">source</span> to <span data-unresolved-link="okio/ForwardingFilesystem/target/#/PointingToCallableParameters(-1)/">target</span> in-place if the underlying file system supports it. If <span data-unresolved-link="okio/ForwardingFilesystem/target/#/PointingToCallableParameters(-1)/">target</span> exists, it is first removed. If <code>source == target</code>, this operation does nothing. This may be used to move a file or a directory.</p><p class="paragraph">Only as Atomic as the Underlying Filesystem Supports</p><p class="paragraph">FAT and NTFS filesystems cannot atomically move a file over an existing file. If the target file already exists, the move is performed into two steps:</p><ol><li><p class="paragraph">Atomically delete the target file.</p></li><li><p class="paragraph">Atomically rename the source file to the target file.</p></li></ol><p class="paragraph">The delete step and move step are each atomic but not atomic in aggregate! If this process crashes, the host operating system crashes, or the hardware fails it is possible that the delete step will succeed and the rename will not.</p><p class="paragraph">Entire-file or nothing</p><p class="paragraph">These are the possible results of this operation:</p><ul><li><p class="paragraph">This operation returns normally, the source file is absent, and the target file contains the     data previously held by the source file. This is the success case.</p></li><li><p class="paragraph">The operation throws an <a href="../-i-o-exception/index.html">IOException</a> and the filesystem is unchanged. For example, this     occurs if this process lacks permissions to perform the move.</p></li><li><p class="paragraph">This operation throws an <a href="../-i-o-exception/index.html">IOException</a>, the target file is deleted, but the source file is     unchanged. This is the partial failure case described above and is only possible on     filesystems like FAT and NTFS that do not support atomic file replacement. Typically in such     cases this operation won't return at all because the process or operating system has also     crashed.</p></li></ul><p class="paragraph">There is no failure mode where the target file holds a subset of the bytes of the source file. If the rename step cannot be performed atomically, this function will throw an <a href="../-i-o-exception/index.html">IOException</a> before attempting a move. Typically this occurs if the source and target files are on different physical volumes.</p><p class="paragraph">Non-Atomic Moves</p><p class="paragraph">If you need to move files across volumes, use <span data-unresolved-link="okio/ForwardingFilesystem/copy/#okio.Path#okio.Path/PointingToDeclaration/">copy</span> followed by <a href="delete.html">delete</a>, and change your application logic to recover should the copy step suffer a partial failure.</p><h4 class="">Throws</h4><div class="platform-hinted " data-platform-hinted="data-platform-hinted"><div class="content sourceset-depenent-content" data-active="" data-togglable=":okio:dokkaHtml/commonMain"><div class="table"><div class="table-row" data-filterable-current=":okio:dokkaHtml/commonMain" data-filterable-set=":okio:dokkaHtml/commonMain"><div class="main-subrow keyValue "><div class=""><span class="inline-flex"><a href="../-i-o-exception/index.html">okio.IOException</a></span></div><div><div class="title"><p class="paragraph">if the move cannot be performed, or cannot be performed atomically. Moves     fail if the source doesn't exist, if the target is not writable, if the target already     exists and cannot be replaced, or if the move would cause physical or quota limits to be     exceeded. This list of potential problems is not exhaustive.</p></div></div></div></div></div></div></div></div>
        </div>
        <div class="footer"><span class="go-to-top-icon"><a href="#content"></a></span><span>Â© 2020 Copyright</span><span class="pull-right"><span>Sponsored and developed by dokka</span><a href="https://github.com/Kotlin/dokka"><span class="padded-icon"></span></a></span></div>
      </div>
    </div>
  </body>
</html>

